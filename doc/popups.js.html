<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: popups.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: popups.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * @Author: zulezhe
 * @Date: 2020-08-06 17:25:04
 * @LastEditors: zulezhe
 * @LastEditTime: 2020-09-30 17:39:04
 *
 */
/**
 * 创建HTML模块
 */

export class Popup {
  constructor(info) {
    this.viewer = info.viewer; //弹窗创建的viewer
    this.geometry = info.geometry; //弹窗挂载的位置
    this.info = info;
    this.id = "popup_" + this.randomId();
    this.eventListener = null;
    this.node = this.info.html;
  }
  randomId() {
    return Number(
      Math.random()
        .toString()
        .substr(3, length) + Date.now()
    ).toString(36);
  }
  createDom(el, id) {
    this.viewer.container.appendChild(this.info.html);
    this.render(this.geometry, this.info.html);
    this.eventListener = this.viewer.clock.onTick.addEventListener((clock) => {
      this.render(this.geometry);
    });
  }
  render(geometry, node) {
    var position = Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, geometry);
    node.style.position.left = position.x - node.offsetWidth / 2;
    node.style.position.left = position.y - node.offsetHeight - 10;
  }
  close() {
    this.viewer.container.removeChild(this.node);
    this.viewer.clock.onTick.removeEventListener(this.eventListener);
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Popup.html">Popup</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addBillboard">addBillboard</a></li><li><a href="global.html#addCircle">addCircle</a></li><li><a href="global.html#addImageryProvider">addImageryProvider</a></li><li><a href="global.html#addLabel">addLabel</a></li><li><a href="global.html#addLayer">addLayer</a></li><li><a href="global.html#addMarker">addMarker</a></li><li><a href="global.html#addSkyBox">addSkyBox</a></li><li><a href="global.html#addTerrain">addTerrain</a></li><li><a href="global.html#calculateCenter">calculateCenter</a></li><li><a href="global.html#cloneDeep">cloneDeep</a></li><li><a href="global.html#drawCard">drawCard</a></li><li><a href="global.html#drawGrid">drawGrid</a></li><li><a href="global.html#flyTo">flyTo</a></li><li><a href="global.html#for2">for2</a></li><li><a href="global.html#getAllEntities">getAllEntities</a></li><li><a href="global.html#getAllLayer">getAllLayer</a></li><li><a href="global.html#getEntitiesByAttr">getEntitiesByAttr</a></li><li><a href="global.html#getLayerByAttr">getLayerByAttr</a></li><li><a href="global.html#infoWindow">infoWindow</a></li><li><a href="global.html#infoWindowClose">infoWindowClose</a></li><li><a href="global.html#leftSingleClick">leftSingleClick</a></li><li><a href="global.html#moveGetInfo">moveGetInfo</a></li><li><a href="global.html#moveShowInfo">moveShowInfo</a></li><li><a href="global.html#removeAllEntities">removeAllEntities</a></li><li><a href="global.html#removeAllLayer">removeAllLayer</a></li><li><a href="global.html#removeEntitiesByAttr">removeEntitiesByAttr</a></li><li><a href="global.html#removeHandle">removeHandle</a></li><li><a href="global.html#removeLayerByAttr">removeLayerByAttr</a></li><li><a href="global.html#removePrimitives">removePrimitives</a></li><li><a href="global.html#removeTerrain">removeTerrain</a></li><li><a href="global.html#setColor">setColor</a></li><li><a href="global.html#skyBoxIsShow">skyBoxIsShow</a></li><li><a href="global.html#type">type</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Jan 30 2021 18:10:19 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
